# This file was generated by puppet
# Any manual changes will likely be clobbered in the next puppet run
#
user             <%= scope.lookupvar('nginx::nx_daemon_user_real') %>;
worker_processes <%= scope.lookupvar('nginx::nx_worker_processes_real') %>;
error_log        <%= scope.lookupvar('nginx::nx_logdir_real') %>/error.log;
pid              <%= scope.lookupvar('nginx::nx_pid_real') %>;

events {
  worker_connections <%= scope.lookupvar('nginx::nx_worker_connections_real') %>;
  multi_accept       <%= scope.lookupvar('nginx::nx_multi_accept_real') %>;
}

http {

  include <%= scope.lookupvar('nginx::nx_conf_dir_real') %>/mime.types;
  sendfile <%= scope.lookupvar('nginx::nx_sendfile_real') %>;
<% if scope.lookupvar('nginx::nx_tcp_nopush_real') == 'on' -%>
  tcp_nopush on;
<% end -%>

  keepalive_timeout <%= scope.lookupvar('nginx::nx_keepalive_timeout_real')%>;
  tcp_nodelay <%= scope.lookupvar('nginx::nx_tcp_nodelay_real')%>;

<% if scope.lookupvar('nginx::nx_gzip_real') == 'on' -%>
  gzip on;
  gzip_disable "MSIE [1-6]\.(?!.*SV1)";
<% end -%>

  include <%= scope.lookupvar('nginx::nx_conf_dir_real') %>/conf.d/*.conf;
}
